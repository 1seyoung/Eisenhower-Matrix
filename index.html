<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëª¨ë˜í•œ ì•„ì´ì  í•˜ì›Œ ë§¤íŠ¸ë¦­ìŠ¤</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fafafa;
            color: #333;
        }
        h1 {
            text-align: center;
            font-weight: normal;
            color: #555;
            margin-bottom: 30px;
        }
        .container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .brainstorm-section, .matrix-section {
            border-radius: 8px;
            padding: 20px;
            background-color: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .brainstorm-input {
            width: 100%;
            height: 100px;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #eee;
            border-radius: 4px;
            font-family: inherit;
            resize: vertical;
        }
        .add-btn {
            padding: 8px 16px;
            background-color: #5383EC;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .add-btn:hover {
            background-color: #4070d8;
        }
        .ideas-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        .idea-card {
            background-color: white;
            border: 1px solid #eee;
            border-radius: 4px;
            padding: 10px;
            width: calc(33.333% - 10px);
            position: relative;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        .idea-text {
            margin-bottom: 10px;
            color: #333;
        }
        .idea-actions {
            display: flex;
            justify-content: space-between;
            border-top: 1px solid #f5f5f5;
            padding-top: 10px;
        }
        .idea-actions select {
            padding: 6px;
            border: 1px solid #eee;
            border-radius: 4px;
            font-size: 14px;
            color: #555;
            background-color: #f9f9f9;
        }
        .remove-idea {
            color: #E57373;
            cursor: pointer;
            background: none;
            border: none;
            padding: 0;
            font-size: 14px;
        }
        .matrix-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 10px;
            height: 500px;
        }
        .matrix-quadrant {
            border-radius: 6px;
            padding: 15px;
            background-color: white;
            overflow-y: auto;
            border: 1px solid #eee;
        }
        .q1 { background-color: #fff5f5; }
        .q2 { background-color: #fffbeb; }
        .q3 { background-color: #f0f7ff; }
        .q4 { background-color: #f8f9fa; }
        .quadrant-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid #eee;
        }
        .badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            margin-right: 10px;
            color: white;
            font-size: 15px;
        }
        .badge-1 { background-color: #FF7D7D; }
        .badge-2 { background-color: #FFBD59; }
        .badge-3 { background-color: #64B5F6; }
        .badge-4 { background-color: #B0BEC5; }
        .task-item {
            padding: 8px 12px;
            background-color: white;
            border-radius: 4px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            border: 1px solid #eee;
        }
        .task-checkbox {
            margin-right: 10px;
            width: 18px;
            height: 18px;
            border-radius: 50%;
        }
        .task-input-row {
            display: flex;
            margin-top: 10px;
        }
        .task-input {
            flex-grow: 1;
            padding: 8px 12px;
            border: 1px solid #eee;
            border-radius: 4px;
            margin-right: 8px;
            font-family: inherit;
        }
        .controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        #matrixSvg {
            width: 100%;
            height: 400px;
            margin-top: 20px;
            border-radius: 6px;
            overflow: hidden;
        }
        /* íƒ€ì´í‹€ ìˆ¨ê¹€ */
        .hide-title {
            display: none;
        }
        
        /* ëª¨ë˜í•œ í°íŠ¸ ìŠ¤íƒ€ì¼ */
        .modern-font {
            font-weight: normal;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
        }
        
        @media (max-width: 768px) {
            .idea-card {
                width: calc(50% - 10px);
            }
            .matrix-grid {
                display: flex;
                flex-direction: column;
                height: auto;
            }
            .matrix-quadrant {
                margin-bottom: 10px;
                min-height: 150px;
            }
        }
        @media (max-width: 480px) {
            .idea-card {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <h1>ì•„ì´ì  í•˜ì›Œ ë§¤íŠ¸ë¦­ìŠ¤</h1>
    
    <div class="container">
        <!-- ë¸Œë ˆì¸ìŠ¤í† ë° ì„¹ì…˜ -->
        <div class="brainstorm-section">
            <h2 class="modern-font">ë¸Œë ˆì¸ìŠ¤í† ë°</h2>
            <textarea id="brainstormInput" class="brainstorm-input" placeholder="í•  ì¼ì´ë‚˜ ì•„ì´ë””ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”. ì—”í„° í‚¤ë¥¼ ëˆ„ë¥´ë©´ ì¹´ë“œê°€ ìƒì„±ë©ë‹ˆë‹¤."></textarea>
            <button class="add-btn" onclick="addIdea()">ì•„ì´ë””ì–´ ì¶”ê°€</button>
            
            <div id="ideasContainer" class="ideas-list">
                <!-- ì•„ì´ë””ì–´ ì¹´ë“œê°€ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
        </div>
        
        <!-- ë§¤íŠ¸ë¦­ìŠ¤ ì„¹ì…˜ -->
        <div class="matrix-section">
            <h2 class="modern-font">ì•„ì´ì  í•˜ì›Œ ë§¤íŠ¸ë¦­ìŠ¤</h2>
            
            <div class="matrix-grid">
                <!-- ì‚¬ë¶„ë©´ 1: ì¤‘ìš”í•˜ê³  ê¸‰í•œ ì¼ -->
                <div class="matrix-quadrant q1">
                    <div class="quadrant-header">
                        <span class="badge badge-1">1</span>
                        <span class="modern-font">ì¤‘ìš”í•˜ê³  ê¸‰í•œ ì¼</span>
                    </div>
                    <div id="quadrant1" class="task-list">
                        <!-- í•  ì¼ í•­ëª©ì´ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    </div>
                    <div class="task-input-row">
                        <input type="text" id="input1" class="task-input" placeholder="í•  ì¼ ì¶”ê°€...">
                        <button class="add-btn" onclick="addTaskToQuadrant(1)">ì¶”ê°€</button>
                    </div>
                </div>
                
                <!-- ì‚¬ë¶„ë©´ 2: ì¤‘ìš”í•˜ì§€ë§Œ ê¸‰í•˜ì§€ ì•Šì€ ì¼ -->
                <div class="matrix-quadrant q2">
                    <div class="quadrant-header">
                        <span class="badge badge-2">2</span>
                        <span class="modern-font">ì¤‘ìš”í•˜ì§€ë§Œ ê¸‰í•˜ì§€ ì•ŠìŒ</span>
                    </div>
                    <div id="quadrant2" class="task-list">
                        <!-- í•  ì¼ í•­ëª©ì´ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    </div>
                    <div class="task-input-row">
                        <input type="text" id="input2" class="task-input" placeholder="í•  ì¼ ì¶”ê°€...">
                        <button class="add-btn" onclick="addTaskToQuadrant(2)">ì¶”ê°€</button>
                    </div>
                </div>
                
                <!-- ì‚¬ë¶„ë©´ 3: ì¤‘ìš”í•˜ì§€ ì•Šì§€ë§Œ ê¸‰í•œ ì¼ -->
                <div class="matrix-quadrant q3">
                    <div class="quadrant-header">
                        <span class="badge badge-3">3</span>
                        <span class="modern-font">ì¤‘ìš”í•˜ì§€ ì•Šì§€ë§Œ ê¸‰í•œ ì¼</span>
                    </div>
                    <div id="quadrant3" class="task-list">
                        <!-- í•  ì¼ í•­ëª©ì´ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    </div>
                    <div class="task-input-row">
                        <input type="text" id="input3" class="task-input" placeholder="í•  ì¼ ì¶”ê°€...">
                        <button class="add-btn" onclick="addTaskToQuadrant(3)">ì¶”ê°€</button>
                    </div>
                </div>
                
                <!-- ì‚¬ë¶„ë©´ 4: ì¤‘ìš”í•˜ì§€ë„ ê¸‰í•˜ì§€ë„ ì•Šì€ ì¼ -->
                <div class="matrix-quadrant q4">
                    <div class="quadrant-header">
                        <span class="badge badge-4">ğŸ˜Œ</span>
                        <span class="modern-font">ì¤‘ìš”í•˜ì§€ë„ ê¸‰í•˜ì§€ë„ ì•ŠìŒ</span>
                    </div>
                    <div id="quadrant4" class="task-list">
                        <!-- í•  ì¼ í•­ëª©ì´ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    </div>
                    <div class="task-input-row">
                        <input type="text" id="input4" class="task-input" placeholder="í•  ì¼ ì¶”ê°€...">
                        <button class="add-btn" onclick="addTaskToQuadrant(4)">ì¶”ê°€</button>
                    </div>
                </div>
            </div>
            
            <div class="controls">
                <button class="add-btn" onclick="generateSVG()">SVG ìƒì„±</button>
                <button class="add-btn" onclick="downloadSVG()">SVG ë‹¤ìš´ë¡œë“œ</button>
            </div>
            
            <div id="matrixSvg">
                <!-- SVGê°€ ì—¬ê¸°ì— ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>
        </div>
    </div>
    
    <script>
        // í•  ì¼ ë°°ì—´
        let tasks = {
            1: ['ë„ì²­'],
            2: ['ì˜¤ì‰'],
            3: [],
            4: []
        };
        
        // ì•„ì´ë””ì–´ ë°°ì—´
        let ideas = [];
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        window.onload = function() {
            // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ë°ì´í„° ë¡œë“œ
            loadFromLocalStorage();
            
            // ì•„ì´ë””ì–´ì™€ í•  ì¼ ë Œë”ë§
            renderIdeas();
            renderTasks();
            
            // ë¸Œë ˆì¸ìŠ¤í† ë° ì…ë ¥ì— ì—”í„° í‚¤ ì´ë²¤íŠ¸ ì¶”ê°€
            document.getElementById('brainstormInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    addIdea();
                }
            });
            
            // ê° ì‚¬ë¶„ë©´ ì…ë ¥ì— ì—”í„° í‚¤ ì´ë²¤íŠ¸ ì¶”ê°€
            for (let i = 1; i <= 4; i++) {
                document.getElementById(`input${i}`).addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        addTaskToQuadrant(i);
                    }
                });
            }
            
            // ì´ˆê¸° SVG ìƒì„±
            generateSVG();
        };
        
        // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ë°ì´í„° ì €ì¥
        function saveToLocalStorage() {
            localStorage.setItem('eisenhowerTasks', JSON.stringify(tasks));
            localStorage.setItem('eisenhowerIdeas', JSON.stringify(ideas));
        }
        
        // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ë°ì´í„° ë¡œë“œ
        function loadFromLocalStorage() {
            const savedTasks = localStorage.getItem('eisenhowerTasks');
            const savedIdeas = localStorage.getItem('eisenhowerIdeas');
            
            if (savedTasks) {
                tasks = JSON.parse(savedTasks);
            }
            
            if (savedIdeas) {
                ideas = JSON.parse(savedIdeas);
            }
        }
        
        // ì•„ì´ë””ì–´ ì¶”ê°€
        function addIdea() {
            const input = document.getElementById('brainstormInput');
            const text = input.value.trim();
            
            if (text) {
                ideas.push(text);
                input.value = '';
                renderIdeas();
                saveToLocalStorage();
            }
        }
        
        // ì•„ì´ë””ì–´ ë Œë”ë§
        function renderIdeas() {
            const container = document.getElementById('ideasContainer');
            container.innerHTML = '';
            
            ideas.forEach((idea, index) => {
                const card = document.createElement('div');
                card.className = 'idea-card';
                
                card.innerHTML = `
                    <div class="idea-text">${idea}</div>
                    <div class="idea-actions">
                        <select id="quadrant-select-${index}">
                            <option value="">ì‚¬ë¶„ë©´ ì„ íƒ...</option>
                            <option value="1">1 - ì¤‘ìš”í•˜ê³  ê¸‰í•œ ì¼</option>
                            <option value="2">2 - ì¤‘ìš”í•˜ì§€ë§Œ ê¸‰í•˜ì§€ ì•ŠìŒ</option>
                            <option value="3">3 - ì¤‘ìš”í•˜ì§€ ì•Šì§€ë§Œ ê¸‰í•œ ì¼</option>
                            <option value="4">4 - ì¤‘ìš”í•˜ì§€ë„ ê¸‰í•˜ì§€ë„ ì•ŠìŒ</option>
                        </select>
                        <button class="add-btn" onclick="moveIdeaToQuadrant(${index})">ì´ë™</button>
                        <button class="remove-idea" onclick="removeIdea(${index})">ì‚­ì œ</button>
                    </div>
                `;
                
                container.appendChild(card);
            });
        }
        
        // ì•„ì´ë””ì–´ë¥¼ ì‚¬ë¶„ë©´ìœ¼ë¡œ ì´ë™
        function moveIdeaToQuadrant(index) {
            const selectElement = document.getElementById(`quadrant-select-${index}`);
            const quadrant = selectElement.value;
            
            if (quadrant && ['1', '2', '3', '4'].includes(quadrant)) {
                tasks[quadrant].push(ideas[index]);
                removeIdea(index);
                renderTasks();
                generateSVG(); // SVG ì—…ë°ì´íŠ¸
            }
        }
        
        // ì•„ì´ë””ì–´ ì‚­ì œ
        function removeIdea(index) {
            ideas.splice(index, 1);
            renderIdeas();
            saveToLocalStorage();
        }
        
        // í•  ì¼ì„ ì‚¬ë¶„ë©´ì— ì¶”ê°€
        function addTaskToQuadrant(quadrant) {
            const input = document.getElementById(`input${quadrant}`);
            const text = input.value.trim();
            
            if (text) {
                tasks[quadrant].push(text);
                input.value = '';
                renderTasks();
                saveToLocalStorage();
                generateSVG(); // SVG ì—…ë°ì´íŠ¸
            }
        }
        
        // í•  ì¼ ì‚­ì œ
        function removeTask(quadrant, index) {
            tasks[quadrant].splice(index, 1);
            renderTasks();
            saveToLocalStorage();
            generateSVG(); // SVG ì—…ë°ì´íŠ¸
        }
        
        // ëª¨ë“  ì‚¬ë¶„ë©´ì˜ í•  ì¼ ë Œë”ë§
        function renderTasks() {
            for (let quadrant = 1; quadrant <= 4; quadrant++) {
                const container = document.getElementById(`quadrant${quadrant}`);
                container.innerHTML = '';
                
                if (tasks[quadrant].length === 0) {
                    container.innerHTML = '<div class="task-item" style="color:#999; justify-content:center;">í•  ì¼ì´ ì—†ì–´ìš”</div>';
                    continue;
                }
                
                tasks[quadrant].forEach((task, index) => {
                    const taskItem = document.createElement('div');
                    taskItem.className = 'task-item';
                    
                    taskItem.innerHTML = `
                        <input type="checkbox" class="task-checkbox" id="task-${quadrant}-${index}">
                        <label for="task-${quadrant}-${index}" style="flex-grow:1;">${task}</label>
                        <button onclick="removeTask(${quadrant}, ${index})" style="background:none; border:none; color:#E57373; cursor:pointer;">ì‚­ì œ</button>
                    `;
                    
                    container.appendChild(taskItem);
                });
            }
        }
        
        // SVG ìƒì„±
        function generateSVG() {
            const svgWidth = 800;
            const svgHeight = 600;
            const padding = 20;
            
            let svg = `<svg xmlns="http://www.w3.org/2000/svg" width="${svgWidth}" height="${svgHeight}" viewBox="0 0 ${svgWidth} ${svgHeight}">
                <style>
                    text {
                        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
                    }
                    .quadrant-title {
                        font-size: 16px;
                        font-weight: normal;
                    }
                    .task-text {
                        font-size: 14px;
                        font-weight: normal;
                    }
                    .badge {
                        font-size: 14px;
                        font-weight: normal;
                        fill: white;
                        text-anchor: middle;
                        dominant-baseline: central;
                    }
                </style>
                
                <!-- ë°°ê²½ -->
                <rect x="${padding}" y="${padding}" width="${svgWidth/2 - padding*1.5}" height="${svgHeight/2 - padding*1.5}" fill="#fff5f5" stroke="#eee" stroke-width="1" rx="6" />
                <rect x="${svgWidth/2 - padding/2}" y="${padding}" width="${svgWidth/2 - padding*1.5}" height="${svgHeight/2 - padding*1.5}" fill="#fffbeb" stroke="#eee" stroke-width="1" rx="6" />
                <rect x="${padding}" y="${svgHeight/2 + padding/2}" width="${svgWidth/2 - padding*1.5}" height="${svgHeight/2 - padding*1.5}" fill="#f0f7ff" stroke="#eee" stroke-width="1" rx="6" />
                <rect x="${svgWidth/2 - padding/2}" y="${svgHeight/2 + padding/2}" width="${svgWidth/2 - padding*1.5}" height="${svgHeight/2 - padding*1.5}" fill="#f8f9fa" stroke="#eee" stroke-width="1" rx="6" />
                
                <!-- 1ì‚¬ë¶„ë©´: ì¤‘ìš”í•˜ê³  ê¸‰í•œ ì¼ -->
                <circle cx="${padding*2}" cy="${padding*2}" r="14" fill="#FF7D7D"/>
                <text x="${padding*2}" y="${padding*2}" class="badge">1</text>
                <text x="${padding*3.5}" y="${padding*2 + 5}" class="quadrant-title">ì¤‘ìš”í•˜ê³  ê¸‰í•œ ì¼</text>`;
                
            // 1ì‚¬ë¶„ë©´ í•  ì¼ ëª©ë¡
            let y1 = padding*4;
            tasks[1].forEach((task) => {
                svg += `
                    <circle cx="${padding*2}" cy="${y1}" r="6" fill="none" stroke="#555" stroke-width="1"/>
                    <text x="${padding*3.5}" y="${y1 + 5}" class="task-text">${task}</text>`;
                y1 += 25;
            });
            
            // 2ì‚¬ë¶„ë©´: ì¤‘ìš”í•˜ì§€ë§Œ ê¸‰í•˜ì§€ ì•ŠìŒ
            svg += `
                <circle cx="${svgWidth/2 + padding}" cy="${padding*2}" r="14" fill="#FFBD59"/>
                <text x="${svgWidth/2 + padding}" y="${padding*2}" class="badge">2</text>
                <text x="${svgWidth/2 + padding*2.5}" y="${padding*2 + 5}" class="quadrant-title">ì¤‘ìš”í•˜ì§€ë§Œ ê¸‰í•˜ì§€ ì•ŠìŒ</text>`;
                
            // 2ì‚¬ë¶„ë©´ í•  ì¼ ëª©ë¡
            let y2 = padding*4;
            tasks[2].forEach((task) => {
                svg += `
                    <circle cx="${svgWidth/2 + padding}" cy="${y2}" r="6" fill="none" stroke="#555" stroke-width="1"/>
                    <text x="${svgWidth/2 + padding*2.5}" y="${y2 + 5}" class="task-text">${task}</text>`;
                y2 += 25;
            });
            
            // 3ì‚¬ë¶„ë©´: ì¤‘ìš”í•˜ì§€ ì•Šì§€ë§Œ ê¸‰í•œ ì¼
            svg += `
                <circle cx="${padding*2}" cy="${svgHeight/2 + padding*1.5}" r="14" fill="#64B5F6"/>
                <text x="${padding*2}" y="${svgHeight/2 + padding*1.5}" class="badge">3</text>
                <text x="${padding*3.5}" y="${svgHeight/2 + padding*1.5 + 5}" class="quadrant-title">ì¤‘ìš”í•˜ì§€ ì•Šì§€ë§Œ ê¸‰í•œ ì¼</text>`;
                
            // 3ì‚¬ë¶„ë©´ í•  ì¼ ëª©ë¡
            let y3 = svgHeight/2 + padding*3.5;
            tasks[3].forEach((task) => {
                svg += `
                    <circle cx="${padding*2}" cy="${y3}" r="6" fill="none" stroke="#555" stroke-width="1"/>
                    <text x="${padding*3.5}" y="${y3 + 5}" class="task-text">${task}</text>`;
                y3 += 25;
            });
            
            // 4ì‚¬ë¶„ë©´: ì¤‘ìš”í•˜ì§€ë„ ê¸‰í•˜ì§€ë„ ì•ŠìŒ
            svg += `
                <circle cx="${svgWidth/2 + padding}" cy="${svgHeight/2 + padding*1.5}" r="14" fill="#B0BEC5"/>
                <text x="${svgWidth/2 + padding}" y="${svgHeight/2 + padding*1.5}" class="badge">ğŸ˜Œ</text>`;
                
            // 4ì‚¬ë¶„ë©´ í•  ì¼ ëª©ë¡
            let y4 = svgHeight/2 + padding*3.5;
            tasks[4].forEach((task) => {
                svg += `
                    <circle cx="${svgWidth/2 + padding}" cy="${y4}" r="6" fill="none" stroke="#555" stroke-width="1"/>
                    <text x="${svgWidth/2 + padding*2.5}" y="${y4 + 5}" class="task-text">${task}</text>`;
                y4 += 25;
            });
            
            svg += `</svg>`;
            
            document.getElementById('matrixSvg').innerHTML = svg;
            return svg;
        }
        
        // SVG ë‹¤ìš´ë¡œë“œ
        function downloadSVG() {
            const svg = generateSVG();
            const blob = new Blob([svg], {type: 'image/svg+xml'});
            const url = URL.createObjectURL(blob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = 'ì•„ì´ì  í•˜ì›Œ_ë§¤íŠ¸ë¦­ìŠ¤.svg';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>